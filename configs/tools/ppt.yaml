name: ppt_toolkit
mode: builtin
activated_tools: null

config:
  workdir: /data/workspace/youtu-agent/examples/ppt_gen
  template_dir: /data/workspace/youtu-agent/examples/ppt_gen/templates
  default_template_index: 9
  default_yaml_config_path: yaml_example2.yaml
  ppt_generation_prompt: |
    You are an expert in PowerPoint generation. 

    ## Overall Requirements
    1. Analyze the content and structure of the report or document.
    2. Arrange the content in a logical and coherent manner. You should divide the content into slides to meet the requirements of the json schema.
    3. Generate a PowerPoint presentation based on the given json schema and content page by page. Generate about 15-20 slides if user does not specify.

    ## Slide Type Diversity Requirements
    When arranging slides, follow these diversity rules:
    1. Use a variety of slide types throughout the presentation
    2. Avoid using the same slide type for two consecutive slides
    3. Mix different slide types such as: items_page_4, item_page_4_growth, etc.
    4. Ensure the slide types are appropriate for the content being presented
    5. Avoid using too much "content" and "two_column_content" pages, try to use more structured pages such as "item_page_4_growth", "item_page_6_sequence", etc.

    ## Visualization Requirements
    1. If there are images searched by SearchAgent or generated by CodeAgent, you are encouraged to use them with urls or local paths in `image_url` field.
    2. If no images are provided, you can provide image descriptions instead (in `image_description` field rather than `image_url` field). The subsequent process will generate high-quality images based on your descriptions for use in the PPT.
    3. **Image Priority**: When multiple image sources are available, follow this priority order: **CodeAgent-generated images > Image description-generated images > SearchAgent-searched images**. If CodeAgent has generated relevant images (e.g., charts, diagrams, data visualizations), prioritize using them whenever possible.
    4. And remember you can insert table into the content page.

    ## Example Arragenment
    1. (title) title: Attention is All You Need
    2. (item_page_5_sequence) introduction of the paper (...)
    3. (section_title) section title: Related Work
    4. (items_page_4) items: [...]
    5. (items_page_4_key_point) conclusion of the paper (...)
    6. (acknowledgement) acknowledgement: [...]

    {schema}

    Now finish your task:
  markdown_outline_translation_prompt: |
    Your task is to translate a markdown-formatted PPT outline into a JSON structure that conforms to the given schema.

    ## Markdown Format Specification
    The markdown outline uses 4 levels of headers, marked by different numbers of "#" symbols:
    - **Level 1 Header (#)**: Represents the title of the cover slide. It means the `title_page` in the json schema
    - **Level 2 Header (##)**: Represents the title of section transition slides between chapters. It means the `section_title_page` in the json schema.
    - **Level 3 Header (###)**: Represents the title of a specific content slide. It's the `title` field in the json schema of the corresponding content page. **IMPORTANT**: All content under each level 3 header MUST BE in a single content page!!!
    - **Level 4 Header (####)**: Represents sub-headings for bullet points within a slide. It's the `title` field of ech items, where the number of `items` is the same as the number of sub-headings.
    - **Content under Level 4 headers**: Bullet points (marked with "-") represent the detailed content under each sub-heading. It's the `content` field of each item.

    ## Translation Requirements
    1. **Preserve All Information - STRICTLY FORBIDDEN to Discard Any Text**: 
       - You MUST NOT change, omit, summarize, or add any information from the markdown outline
       - Every single sentence, bullet point, and piece of text MUST be translated into the JSON format
       - **CRITICAL**: Do NOT discard any content even if it seems redundant or lengthy
       - If the content is long, keep it complete in the JSON - do NOT truncate or abbreviate
       - Translate it completely, accurately, and exhaustively into JSON format
       - You can ignore the length requirements in the schema in order to preserve all information from the markdown outline
    2. **Maintain Structure**: Keep the hierarchical structure and logical flow of the original outline.
    3. **Follow Schema**: Ensure the output JSON strictly conforms to the provided schema.
    4. **Strictly Match Items Count to Page Type**: For each content page, you MUST select a page type that exactly matches the number of items. For example:
       - If a page has 2 items, use ONLY `items_2_xxx` type pages
       - **CRITICAL**: Never use a page type with a different items count than what the content actually has
    5. **Alternate Between Similar Page Types**: When multiple similar page types are available in the schema (e.g., items_3_page, items_3_with_subtitle_page for 3 items; section_title_page, section_title_without_subtitle_page for section title), actively alternate between them throughout the presentation. Do NOT repeatedly use only one type when alternatives exist. This creates visual variety and keeps the presentation engaging.

    ## Input Format
    You will receive:
    1. A JSON schema that defines the structure of the output
    2. A markdown outline that needs to be translated

    ## Output Format
    Generate a valid JSON object that:
    - Matches the provided schema structure
    - Contains all information from the markdown outline
    - Maintains the original content without any modifications

    ---
    Schema:
    {schema}

    Markdown Outline:
    {outline}

    Now translate the markdown outline into JSON format according to the schema
  json_outline_translation_prompt: |
    Your task is to translate a json-formatted PPT outline into a JSON structure that conforms to the given schema.

    ## Translation Requirements
    1. **Preserve All Information - STRICTLY FORBIDDEN to Discard Any Text**: 
       - You MUST NOT change, omit, summarize, or add any information from the json outline
       - Keep all markdown format(e.g. "-", "*") in the content of outline
       - Every single sentence, bullet point, and piece of text MUST be translated into the JSON format
       - **CRITICAL**: Do NOT discard any content even if it seems redundant or lengthy
       - If the content is long, keep it complete in the JSON - do NOT truncate or abbreviate
       - You can ignore the length requirements in the schema in order to preserve all information from the json outline
    2. **Maintain Structure**: Keep the hierarchical structure and logical flow of the original outline. Strictly translate each content page to a corresponding page type in the schema
    3. **Strictly Match Items Count to Page Type**: For each content page, you MUST select a page type that exactly matches the number of items. For example:
       - If a page has 2 items, use ONLY `items_2_xxx` type pages
       - **CRITICAL**: Never use a page type with a different items count than what the content actually has
    4. **Alternate Between Similar Page Types**: When multiple similar page types are available in the schema (e.g., items_3_page, items_3_with_subtitle_page for 3 items; section_title_page, section_title_without_subtitle_page for section title), actively alternate between them throughout the presentation. Do NOT repeatedly use only one type when alternatives exist. This creates visual variety and keeps the presentation engaging.

    ## Input Format
    You will receive:
    1. A JSON schema that defines the structure of the output
    2. A json outline that needs to be translated

    ## Output Format
    Generate a valid JSON object that:
    - Matches the provided schema structure
    - Contains all information from the json outline
    - Maintains the original content without any modifications

    ---
    Schema:
    {schema}

    json Outline:
    {outline}

    Now translate the json outline into JSON format according to the schema
config_llm:
  model_provider:
    type: ${oc.env:UTU_LLM_TYPE}
    model: ${oc.env:UTU_LLM_MODEL}