name: ppt_toolkit
mode: builtin
activated_tools: null
config:
  workdir: /data/workspace/youtu-agent/examples/ppt_gen
  template_dir: /data/workspace/youtu-agent/examples/ppt_gen/templates
  default_template_index: 9
  default_yaml_config_path: yaml_example2.yaml
  ppt_generation_prompt: |
    You are an expert in PowerPoint generation. 

    ## Overall Requirements
    1. Analyze the content and structure of the report or document.
    2. Arrange the content in a logical and coherent manner. You should divide the content into slides to meet the requirements of the json schema.
    3. Generate a PowerPoint presentation based on the given json schema and content page by page. Generate about 15-20 slides if user does not specify.

    ## Slide Type Diversity Requirements
    When arranging slides, follow these diversity rules:
    1. Use a variety of slide types throughout the presentation
    2. Avoid using the same slide type for two consecutive slides
    3. Slide types with the same item count are considered the same category (e.g., items_4_page and items_4_with_subtitle_page both belong to "items_4" category). Avoid using slides from the same category consecutively.
    4. Mix different slide types such as: items_page_4, item_page_4_growth, etc.
    5. Avoid using too much "content", "two_column_content" or "xxx_with_icon" (maximum 2) pages, try to use more structured pages such as "items_4_page", "items_3_with_subtitle_page", etc.

    ## Visualization
    ### Overall Requirements
    Use images and data charts as diversely and richly as possible throughout the presentation to enhance visual appeal and information delivery. Combine different visualization types (pyecharts, generated images, CodeAgent charts, searched images) to create an engaging and comprehensive presentation.
    
    ### Visualization Type Priority (from High to Low)
    1. **[Highest Priority] Use pyecharts for data visualizations**: Generate data charts using pyecharts. Refer to the pyecharts generation rules in the JSON Schema below.
    2. **[High Priority] Use image generation tool**: Generate images using the image generation tool. Refer to the format containing `image_description` field in the JSON Schema below. Your `image_description` will be used as the description for image generation, so please be as detailed as possible. **CRITICAL RESTRICTION**: **STRICTLY FORBIDDEN** to use image generation tool to generate data charts (e.g., bar charts, line charts, pie charts, tables, graphs with numerical data). This will cause fatal errors.
    3. **[Medium Priority] Use CodeAgent-generated data charts**: Use data charts generated by CodeAgent. Refer to the image generation rules in the JSON Schema below, only fill the local image path into `image_url` field and **Strictly Forbidden** to fill `image_description`.
    4. **[Low Priority] Use SearchAgent-searched images**: Use images searched by SearchAgent. Refer to the image generation rules in the JSON Schema below, only fill the image URL into `image_url` field and **Strictly Forbidden** to fill `image_description`.

    ## Example Arragenment
    1. (title) title: Attention is All You Need
    2. (item_page_5_sequence) introduction of the paper (...)
    3. (section_title) section title: Related Work
    4. (items_3_with_icon_page) items: [...]
    5. (items_page_4_key_point) conclusion of the paper (...)
    6. (acknowledgement) acknowledgement: [...]

    ## JSON Schema
    {schema}

    Now finish your task:
  markdown_outline_translation_prompt: |
    Your task is to translate a markdown-formatted PPT outline into a JSON structure that conforms to the given schema.

    ## Markdown Format Specification
    The markdown outline uses 4 levels of headers, marked by different numbers of "#" symbols:
    - **Level 1 Header (#)**: Represents the title of the cover slide. It means the `title_page` in the json schema
    - **Level 2 Header (##)**: Represents the title of section transition slides between chapters. It means the `section_title_page` in the json schema.
    - **Level 3 Header (###)**: Represents the title of a specific content slide. It's the `title` field in the json schema of the corresponding content page. **IMPORTANT**: All content under each level 3 header MUST BE in a single content page!!!
    - **Level 4 Header (####)**: Represents sub-headings for bullet points within a slide. It's the `title` field of ech items, where the number of `items` is the same as the number of sub-headings.
    - **Content under Level 4 headers**: Bullet points (marked with "-") represent the detailed content under each sub-heading. It's the `content` field of each item.

    ## Translation Requirements
    1. **Preserve All Information - STRICTLY FORBIDDEN to Discard Any Text**: 
       - You MUST NOT change, omit, summarize, or add any information from the markdown outline
       - Every single sentence, bullet point, and piece of text MUST be translated into the JSON format
       - **CRITICAL**: Do NOT discard any content even if it seems redundant or lengthy
       - If the content is long, keep it complete in the JSON - do NOT truncate or abbreviate
       - Translate it completely, accurately, and exhaustively into JSON format
       - You can ignore the length requirements in the schema in order to preserve all information from the markdown outline
    2. **Maintain Structure**: Keep the hierarchical structure and logical flow of the original outline.
    3. **Follow Schema**: Ensure the output JSON strictly conforms to the provided schema.
    4. **Strictly Match Items Count to Page Type**: For each content page, you MUST select a page type that exactly matches the number of items. For example:
       - If a page has 2 items, use ONLY `items_2_xxx` type pages
       - **CRITICAL**: Never use a page type with a different items count than what the content actually has
    5. **Alternate Between Similar Page Types**: When multiple similar page types are available in the schema (e.g., items_3_page, items_3_with_subtitle_page for 3 items; section_title_page, section_title_without_subtitle_page for section title), actively alternate between them throughout the presentation. Do NOT repeatedly use only one type when alternatives exist. This creates visual variety and keeps the presentation engaging.

    ## Input Format
    You will receive:
    1. A JSON schema that defines the structure of the output
    2. A markdown outline that needs to be translated

    ## Output Format
    Generate a valid JSON object that:
    - Matches the provided schema structure
    - Contains all information from the markdown outline
    - Maintains the original content without any modifications

    ---
    Schema:
    {schema}

    Markdown Outline:
    {outline}

    Now translate the markdown outline into JSON format according to the schema
  json_outline_translation_prompt: |
    Your task is to translate a json-formatted PPT outline into a JSON structure that conforms to the given schema.

    ## Translation Requirements
    1. **Preserve All Information - STRICTLY FORBIDDEN to Discard Any Text**: 
       - You MUST NOT change, omit, summarize, or add any information from the json outline
       - Keep all markdown format(e.g. "-", "*") in the content of outline
       - Every single sentence, bullet point, and piece of text MUST be translated into the JSON format
       - **CRITICAL**: Do NOT discard any content even if it seems redundant or lengthy
       - If the content is long, keep it complete in the JSON - do NOT truncate or abbreviate
       - You can ignore the length requirements in the schema in order to preserve all information from the json outline
    2. **Maintain Structure**: Keep the hierarchical structure and logical flow of the original outline. Strictly translate each content page to a corresponding page type in the schema
    3. **Strictly Match Items Count to Page Type**: For each content page, you MUST select a page type that exactly matches the number of items. For example:
       - If a page has 2 items, use ONLY `items_2_xxx` type pages
       - **CRITICAL**: Never use a page type with a different items count than what the content actually has
    4. **Alternate Between Similar Page Types**: When multiple similar page types are available in the schema (e.g., items_3_page, items_3_with_icon_page, items_3_with_subtitle_page for 3 items; section_title_page, section_title_without_subtitle_page for section title), actively alternate between them throughout the presentation. Do NOT repeatedly use only one type when alternatives exist. This creates visual variety and keeps the presentation engaging.

    ## Input Format
    You will receive:
    1. A JSON schema that defines the structure of the output
    2. A json outline that needs to be translated

    ## Output Format
    Generate a valid JSON object that:
    - Matches the provided schema structure
    - Contains all information from the json outline
    - Maintains the original content without any modifications

    ---
    Schema:
    {schema}

    json Outline:
    {outline}

    Now translate the json outline into JSON format according to the schema
config_llm:
  model_provider:
    type: ${oc.env:UTU_LLM_TYPE}
    model: ${oc.env:UTU_LLM_MODEL}